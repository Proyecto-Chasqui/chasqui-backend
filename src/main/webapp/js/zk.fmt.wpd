zk.load('zul.lang',function(){if(zk._p=zkpi('zk.fmt'))try{
(function(){var e={GROUPING:zk.GROUPING,DECIMAL:zk.DECIMAL,PERCENT:zk.PERCENT,PER_MILL:zk.PER_MILL,MINUS:zk.MINUS};function d(g,f){return g.substring(0,f)}function a(i,f){var g=1,m="";for(var h=f;g&&--h>=0;){var l=i.charAt(h);if(g==1){if(l>="0"&&l<"9"){l=l.$inc(1);g=0}else{if(l=="9"){l="0"}}}m=l+m}if(h>=0){m=i.substring(0,h)+m}return g?"1"+m:m}function b(k,h){var l,g,m="5";for(var i=h,f=k.length;i<f;++i){g=k.charAt(i)-m;if(i==h){m="0"}if(g!=0){return g}}return g}function c(h,f){for(var g=f;--g>=0;){var i=h.charAt(g);if(i>="0"&&i<="9"){return i}}return null}zk.fmt.Number={setScale:function(l,k,g){if(k===undefined||k<0){return l}var i=l.$toString(),j=i.indexOf("."),h=j>=0?i.length-j-1:0;if(h<=k){return l}else{var f=j+k+1;i=this.rounding(i,f,g,i<0);return new zk.BigDecimal(i)}},isRoundingRequired:function(h,j,f){if(!j||h==null||h==""){return false}var r;if(j.indexOf(";")!=-1){j=j.split(";");r=h<0;j=j[r?1:0]}f=f||e;var s=this._escapeQuote(j,f);j=s.fmt;var n=s.pureFmtStr,i=s.purejdot,m=i>=0?n.length-i-1:0,l=(h+"").replace(/[^e\-0123456789.]/g,"").substring(h<0?1:0),k=l.lastIndexOf("e"),q=l.indexOf("."),p=q>=0?(k<0?l.length:k)-q-1:0,g=s.shift+(k<0?0:parseInt(l.substring(k+1),10));if(k>0){l=l.substring(0,k)}if(g>0){if(q>=0){if(p>g){p-=g}else{p=0}}}else{if(g<0){var o=(q<0?l.length:q)+g;if(o>0){p-=g}else{if(q>=0){l=l.substring(0,q)+l.substring(q+1)}for(;o++<0;){l="0"+l}l="0."+l;p=l.length-2}}}return p>m},rounding:function(i,g,h,k){switch(h){case 0:i=a(i,g);break;case 1:i=d(i,g);break;case 2:i=k?d(i,g):a(i,g);break;case 3:i=!k?d(i,g):a(i,g);break;case 4:var j=b(i,g);i=j<0?d(i,g):a(i,g);break;case 5:var j=b(i,g);i=j>0?a(i,g):d(i,g);break;case 6:default:var j=b(i,g);if(j==0){var f=c(i,g);i=(f&1)?a(i,g):d(i,g)}else{i=j<0?d(i,g):a(i,g)}}return i},format:function(v,z,t,P){if(z==null){return""}if(!v){return z+""}var I;if(v.indexOf(";")!=-1){v=v.split(";");I=z<0;v=v[I?1:0]}P=P||e;var Q=this._escapeQuote(v,P);v=Q.fmt;var y=Q.pureFmtStr,T=Q.purejdot,q=T>=0?y.length-T-1:0,f=(z+"").replace(/[^e\-0123456789.]/g,"").substring(z<0?1:0),W=f.lastIndexOf("e"),u=f.indexOf("."),o=u>=0?(W<0?f.length:W)-u-1:0,A=Q.shift+(W<0?0:parseInt(f.substring(W+1),10));if(W>0){f=f.substring(0,W)}if(A>0){if(u>=0){if(o>A){f=f.substring(0,u)+f.substring(u+1,u+1+A)+"."+f.substring(u+1+A);o-=A;u+=A}else{f=f.substring(0,u)+f.substring(u+1);for(var s=A-o;s-->0;){f=f+"0"}u=-1;o=0}}else{for(var s=A;s-->0;){f=f+"0"}}}else{if(A<0){var k=(u<0?f.length:u)+A;if(k>0){f=f.substring(0,k)+"."+(u<0?f.substring(k):f.substring(k,indVar)+f.substring(indVar+1));o-=A;u=k}else{if(u>=0){f=f.substring(0,u)+f.substring(u+1)}for(;k++<0;){f="0"+f}f="0."+f;u=1;o=f.length-2}}}if(o<=q){if(u==-1){f+="."}for(var s=q-o;s-->0;){f=f+"0"}}else{var G=u+q+1;f=this.rounding(f,G,t,z<0)}var l=Q.jdot,K="",w="";u=f.indexOf(".");if(u==-1){u=f.length}if(l==-1){l=v.length}if(T==-1){T=y.length}var x=u-T;if(x>0){var F="";for(var s=x;--s>=0;l++){F+="#"}var C=this._extraFmtIndex(v);x+=C;v=v.substring(0,C)+F+v.substring(C,v.length)}for(var s=T-u;--s>=0;u++){f="0"+f}var M=l-v.substring(0,l).lastIndexOf(",");for(var U=1,S=l-1,R=u-1;S>=0&&R>=0;){if(U%M==0&&K.charAt(0)!=","){K=P.GROUPING+K;U++}var h=v.charAt(S);if(h=="#"||h=="0"){var E=f.charAt(R);K=(E=="0"?h:E)+K;S--;R--;U++}else{var X=v.charAt(S);if(X!=","){K=X+K;U++}S--}}if(R>=0){K=f.substr(0,R+1)+K}var s=(l<0?v.length:l)-(T<0?y.length:T),H=Q.prej;if(s>0){var L=v.substring(H,x>0?x:s).replace(new RegExp("[#0.,]","g"),"");if(L){K=L+K}}for(var S=l+1,R=u+1,B=v.length,r=f.length;S<B;S++){var h=v.charAt(S);if(h=="#"||h=="0"){if(R<r){w+=f.charAt(R);R++}}else{w+=h=="%"?P.PERCENT:h}}if(R<f.length){w=f.substr(R,f.length)}var V=-1;for(var O=w.length,N=v.length;O>0;--O){var E=w.charAt(O-1),h=v.charAt(--N);if(E=="0"&&h=="#"){if(V<0){V=O}}else{if(V>=0||/[1-9]/.test(E)){break}}}if(V>=0){w=w.substring(0,O)+w.substring(V)}if(K){K=v.substring(0,H)+this._removePrefixSharps(K,P)}if(!K&&v.charAt(l+1)=="#"){K="0"}if(!w&&(K==P.PERCENT||K==P.PER_MILL)){K="0"+K}var J=new RegExp("^0*["+P.PERCENT+"|"+P.PER_MILL+"]?$"),D=w?J.test(w)&&/^0*$/.test(K):J.test(K);return(z<0&&!D&&!I?P.MINUS:"")+(w?K+(/[\d]/.test(w.charAt(0))?P.DECIMAL:"")+w:K)},_escapeQuote:function(k,f){var m,g=-2,i=0,r="",o=-1,t=-1,h="",s=-1,l=k?!new RegExp("('["+f.PERCENT+"|"+f.PER_MILL+"]+')","g").test(k):true;for(var n=0,p=k.length;n<p;++n){m=k.charAt(n);if(m=="%"&&l){i+=2}else{if(m==f.PER_MILL&&l){i+=3}}if(m=="'"){if(g>=0){r+=g==(n-1)?"'":k.substring(g+1,n);g=-2}else{g=n}}else{if(g<0){if(s<0&&(m=="#"||m=="0"||m=="."||m=="-"||m==","||m=="E")){s=r.length}if(m=="#"||m=="0"){h+=m}else{if(m=="."){if(t<0){t=h.length}if(o<0){o=r.length}h+=m}}r+=m}}}return{shift:i,fmt:r,pureFmtStr:h,jdot:o,purejdot:t,prej:s}},_extraFmtIndex:function(g){var h=0;for(var f=g.length;h<f;++h){var i=g.charAt(h);if(i=="#"||i=="0"||i==","){break}}return h},_removePrefixSharps:function(k,m){var h="",i=true;for(var f=k.length,g=0;g<f;++g){var l=k.charAt(g);if(i){if(l=="#"||l==m.GROUPING){continue}else{if(/[\d]/.test(l)){i=false}}}h=h+(l=="#"?"0":l)}return h},unformat:function(g,A,z,m){if(!A){return{raw:A,divscale:0}}m=m||{GROUPING:zk.GROUPING,DECIMAL:zk.DECIMAL,PERCENT:zk.PERCENT,PER_MILL:zk.PER_MILL,MINUS:zk.MINUS};var h=0,i,f,s,y,u=z?"-":m.MINUS,q=z?".":m.DECIMAL,n=z?"%":m.PERCENT,o=String.fromCharCode(8240),r=z?o:m.PER_MILL,p=z?",":m.GROUPING,l=!new RegExp("('[%|"+o+"]+')","g").test(g);for(var w=0,x=A.length;w<x;++w){s=A.charAt(w);y=true;if(s==n&&l){h+=2}else{if(s==r&&l){h+=3}else{if(s=="("){i=true}else{if(s!="+"){y=false}}}}if(!y){y=(s<"0"||s>"9")&&s!=q&&s!=u&&s!="+"&&(zUtl.isChar(s,{whitespace:1})||s==p||s==")"||(g&&g.indexOf(s)>=0))}if(y){if(f==null){f=A.substring(0,w)}}else{var t=s==u?"-":s==q?".":s;if(s!=t&&f==null){f=A.substring(0,w)}if(f!=null){f+=t}}}if(f==null){f=A}if(i){f="-"+f}for(;;){s=f.charAt(0);if(s=="+"){f=f.substring(1)}else{if(s=="-"&&f.charAt(1)=="-"){f=f.substring(2)}else{break}}}for(var w=0,v,x=f.length;w<x;++w){s=f.charAt(w);if(s>"0"&&s<="9"){if(v!==undefined){f=f.substring(0,v)+f.substring(w)}break}else{if(s=="0"){if(v===undefined){v=w}}else{if(v!==undefined){if(s=="."&&w>++v){f=f.substring(0,v)+f.substring(w)}break}else{if(s=="."){break}}}}}return{raw:f,divscale:h}}}})();
zk.fmt.Text={format:function(e){var d=0,g="";for(var c=0,a=e.length,f,b;c<a;++c){f=e.charAt(c);if(f=="\\"){if(++c>=a){break}g+=e.substring(d,c);f=e.charAt(c);switch(f){case"n":f="\n";break;case"t":f="\t";break;case"r":f="\r";break}g+=f;d=c+1}else{if(f=="{"){b=e.indexOf("}",c+1);if(b<0){break}g+=e.substring(d,c)+arguments[zk.parseInt(e.substring(c+1,b))+1];d=c=b+1}}}if(g){g+=e.substring(d)}return g||e}};

}finally{zk.setLoaded(zk._p.n);}});zk.setLoaded('zk.fmt',1);